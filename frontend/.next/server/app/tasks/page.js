(()=>{var e={};e.id=147,e.ids=[147],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30437:(e,s,a)=>{Promise.resolve().then(a.bind(a,82014))},33873:e=>{"use strict";e.exports=require("path")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67558:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=a(65239),t=a(48088),l=a(88170),i=a.n(l),n=a(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d={children:["",{children:["tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,88989)),"/Users/lucasmailland/Desktop/Prospecter-Fichap/frontend/src/app/tasks/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/Users/lucasmailland/Desktop/Prospecter-Fichap/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,54413)),"/Users/lucasmailland/Desktop/Prospecter-Fichap/frontend/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/Users/lucasmailland/Desktop/Prospecter-Fichap/frontend/src/app/tasks/page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/tasks/page",pathname:"/tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79551:e=>{"use strict";e.exports=require("url")},82014:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>H});var r=a(60687),t=a(43210),l=a.n(t),i=a(99381);let n=()=>{let[e,s]=(0,t.useState)([]),[a,r]=(0,t.useState)(!1),[l,n]=(0,t.useState)(null),[c,d]=(0,t.useState)({total:0,pages:0,currentPage:1,hasMore:!1}),[o,x]=(0,t.useState)({}),[m,h]=(0,t.useState)([]),p=(0,t.useCallback)((e,s)=>{let a=new URLSearchParams;return e.status&&a.append("status",e.status.join(",")),e.category&&a.append("category",e.category.join(",")),e.type&&a.append("type",e.type.join(",")),e.priority&&a.append("priority",e.priority.join(",")),e.assignedTo&&a.append("assignedTo",e.assignedTo),e.dateFrom&&a.append("dateFrom",e.dateFrom.toISOString()),e.dateTo&&a.append("dateTo",e.dateTo.toISOString()),e.syncStatus&&a.append("syncStatus",e.syncStatus),e.searchTerm&&a.append("search",e.searchTerm),a.append("page",s.toString()),a.append("limit","20"),a.toString()},[]),u=(0,t.useCallback)(async(e,a)=>{try{r(!0),n(null);let t=p(e,a),l=await fetch(`/api/tasks?${t}`);if(!l.ok)throw Error(`HTTP error! status: ${l.status}`);let i=await l.json();if(i.success)s(i.data),d(i.pagination);else throw Error(i.error||"Failed to fetch tasks")}catch(e){n(e instanceof Error?e.message:"An error occurred")}finally{r(!1)}},[p]);(0,t.useEffect)(()=>{u(o,c.currentPage)},[o,c.currentPage]);let g=async e=>{try{let a=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let r=await a.json();if(r.success){let e=p(o,c.currentPage),a=await fetch(`/api/tasks?${e}`);if(a.ok){let e=await a.json();e.success&&(s(e.data),d(e.pagination))}return r.data}throw Error(r.error||"Failed to create task")}catch(s){let e=s instanceof Error?s.message:"An error occurred";throw n(e),Error(e)}},b=async(e,a)=>{try{let r=await fetch(`/api/tasks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let t=await r.json();if(t.success)return s(s=>s.map(s=>s.id===e?t.data:s)),t.data;throw Error(t.error||"Failed to update task")}catch(s){let e=s instanceof Error?s.message:"An error occurred";throw n(e),Error(e)}},j=async e=>{try{let a=await fetch(`/api/tasks/${e}`,{method:"DELETE"});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let r=await a.json();if(r.success)s(s=>s.filter(s=>s.id!==e)),h(s=>s.filter(s=>s!==e));else throw Error(r.error||"Failed to delete task")}catch(s){let e=s instanceof Error?s.message:"An error occurred";throw n(e),Error(e)}},y=async e=>{try{let a=await fetch("/api/tasks/actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",taskId:e})});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let r=await a.json();if(r.success)s(s=>s.map(s=>s.id===e?{...s,status:i.e1.APPROVED}:s));else throw Error(r.error||"Failed to approve task")}catch(s){let e=s instanceof Error?s.message:"An error occurred";throw n(e),Error(e)}},N=async(e,a)=>{try{let r=await fetch("/api/tasks/actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",taskId:e,reason:a})});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let t=await r.json();if(t.success)s(s=>s.map(s=>s.id===e?{...s,status:i.e1.REJECTED,rejectedReason:a}:s));else throw Error(t.error||"Failed to reject task")}catch(s){let e=s instanceof Error?s.message:"An error occurred";throw n(e),Error(e)}},f=async e=>{try{let a=await fetch("/api/tasks/actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"sync",taskId:e})});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let r=await a.json();if(r.success)s(s=>s.map(s=>s.id===e?{...s,syncedToHubspot:!0,syncedAt:new Date}:s));else throw Error(r.error||"Failed to sync to HubSpot")}catch(s){let e=s instanceof Error?s.message:"An error occurred";throw n(e),Error(e)}},v=async(e,a)=>{try{let r=await fetch("/api/tasks/actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"bulk",taskIds:m,bulkAction:e,...a})});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let t=await r.json();if(t.success){let e=p(o,c.currentPage),a=await fetch(`/api/tasks?${e}`);if(a.ok){let e=await a.json();e.success&&(s(e.data),d(e.pagination))}h([])}else throw Error(t.error||"Failed to perform bulk action")}catch(s){let e=s instanceof Error?s.message:"An error occurred";throw n(e),Error(e)}},w=async e=>{try{let s=await fetch("/api/tasks/ai-suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);let a=await s.json();if(a.success)return a.data;throw Error(a.error||"Failed to generate AI suggestions")}catch(s){let e=s instanceof Error?s.message:"An error occurred";throw n(e),Error(e)}},E=(0,t.useCallback)(async()=>{let e=p(o,c.currentPage);try{r(!0),n(null);let a=await fetch(`/api/tasks?${e}`);if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let t=await a.json();if(t.success)s(t.data),d(t.pagination);else throw Error(t.error||"Failed to fetch tasks")}catch(e){n(e instanceof Error?e.message:"An error occurred")}finally{r(!1)}},[p,o,c.currentPage]);return{tasks:e,loading:a,error:l,pagination:c,filters:o,selectedTasks:m,createTask:g,updateTask:b,deleteTask:j,setFilters:e=>{x(e),d(e=>({...e,currentPage:1}))},setPage:e=>{d(s=>({...s,currentPage:e}))},refreshTasks:E,selectTask:e=>{h(s=>[...s,e])},deselectTask:e=>{h(s=>s.filter(s=>s!==e))},selectAllTasks:()=>{h(e.map(e=>e.id))},deselectAllTasks:()=>{h([])},approveTask:y,rejectTask:N,syncToHubSpot:f,bulkAction:v,generateAISuggestions:w}};var c=a(62688);let d=(0,c.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),o=(0,c.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),x=(0,c.A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var m=a(78200);let h=(0,c.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=(0,c.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),u=(0,c.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),g=(0,c.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),b=(0,c.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),j=(0,c.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var y=a(53411);let N=(0,c.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f=(0,c.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),v=(0,c.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),w=(0,c.A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),E=(0,c.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),k=(0,c.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),C=(0,c.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),A=(0,c.A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),T=(0,c.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),P=(0,c.A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),D={subject:"",description:"",category:i.Ix.PROSPECTING,type:i.wP.EMAIL,priority:i.W6.MEDIUM,contactEmail:"",contactName:"",companyName:"",scheduledDate:"",scheduledTime:"",estimatedDuration:30,customMessage:""};function S({isOpen:e,onClose:s,onCreate:a,onGenerateAI:n}){let[c,d]=(0,t.useState)(D),[h,p]=(0,t.useState)(null),[u,g]=(0,t.useState)(!1),[b,j]=(0,t.useState)(!1),[y,N]=(0,t.useState)({}),[f,S]=(0,t.useState)(1),M=()=>{let e={};return c.subject.trim()||(e.subject="El asunto es requerido"),c.contactEmail.trim()||(e.contactEmail="El email es requerido"),c.contactName.trim()||(e.contactName="El nombre es requerido"),c.companyName.trim()||(e.companyName="La empresa es requerida"),c.contactEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.contactEmail)&&(e.contactEmail="Email inv\xe1lido"),N(e),0===Object.keys(e).length},I=async()=>{if(M()){g(!0);try{let e=await n(c);p(e),S(2)}catch(e){console.error("Error generating AI suggestions:",e)}finally{g(!1)}}},O=async()=>{if(M()){j(!0);try{let e={...c,scheduledDate:c.scheduledDate?new Date(c.scheduledDate):void 0,...h&&{aiGeneratedEmail:h.emailTemplate,aiGeneratedScript:h.callScript,aiGeneratedComment:h.comment}};await a(e),s()}catch(e){console.error("Error creating task:",e)}finally{j(!1)}}},L=(e,s)=>{d(a=>({...a,[e]:s})),y[e]&&N(s=>({...s,[e]:null}))},R=e=>{switch(e){case i.wP.EMAIL:return(0,r.jsx)(v,{className:"w-4 h-4"});case i.wP.CALL:return(0,r.jsx)(w,{className:"w-4 h-4"});case i.wP.MEETING:return(0,r.jsx)(E,{className:"w-4 h-4"});case i.wP.LINKEDIN_MESSAGE:default:return(0,r.jsx)(x,{className:"w-4 h-4"})}},z=e=>{switch(e){case i.W6.LOW:return"bg-blue-100 text-blue-800 border-blue-200";case i.W6.MEDIUM:return"bg-yellow-100 text-yellow-800 border-yellow-200";case i.W6.HIGH:return"bg-orange-100 text-orange-800 border-orange-200";case i.W6.URGENT:return"bg-red-100 text-red-800 border-red-200";case i.W6.CRITICAL:return"bg-red-200 text-red-900 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg",children:(0,r.jsx)(o,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Crear Nueva Tarea"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Paso ",f," de 3 - ",1===f?"Informaci\xf3n b\xe1sica":2===f?"Sugerencias de IA":"Revisi\xf3n final"]})]})]}),(0,r.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(k,{className:"w-6 h-6 text-gray-500"})})]}),(0,r.jsx)("div",{className:"px-6 py-2 bg-gray-50",children:(0,r.jsx)("div",{className:"flex items-center space-x-2",children:[1,2,3].map(e=>(0,r.jsxs)(l().Fragment,{children:[(0,r.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${e<=f?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:e}),e<3&&(0,r.jsx)("div",{className:`flex-1 h-2 rounded ${e<f?"bg-blue-600":"bg-gray-200"}`})]},e))})}),(0,r.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[1===f&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Tarea"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.values(i.wP).map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>L("type",e),className:`p-3 rounded-lg border-2 transition-all ${c.type===e?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[R(e),(0,r.jsx)("span",{className:"text-xs font-medium",children:e.replace("_"," ")})]})},e))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda"}),(0,r.jsx)("select",{value:c.category,onChange:e=>L("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Object.values(i.Ix).map(e=>(0,r.jsx)("option",{value:e,children:e.replace("_"," ")},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad"}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:Object.values(i.W6).map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>L("priority",e),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${c.priority===e?z(e):"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200"}`,children:e},e))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Asunto *"}),(0,r.jsx)("input",{type:"text",value:c.subject,onChange:e=>L("subject",e.target.value),placeholder:"Ej: Seguimiento de propuesta comercial",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.subject?"border-red-300":"border-gray-300"}`}),y.subject&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.subject})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n"}),(0,r.jsx)("textarea",{value:c.description,onChange:e=>L("description",e.target.value),placeholder:"Descripci\xf3n detallada de la tarea...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(C,{className:"w-4 h-4 inline mr-1"}),"Nombre del Contacto *"]}),(0,r.jsx)("input",{type:"text",value:c.contactName,onChange:e=>L("contactName",e.target.value),placeholder:"Juan P\xe9rez",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.contactName?"border-red-300":"border-gray-300"}`}),y.contactName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.contactName})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(v,{className:"w-4 h-4 inline mr-1"}),"Email del Contacto *"]}),(0,r.jsx)("input",{type:"email",value:c.contactEmail,onChange:e=>L("contactEmail",e.target.value),placeholder:"juan@empresa.com",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.contactEmail?"border-red-300":"border-gray-300"}`}),y.contactEmail&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.contactEmail})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(A,{className:"w-4 h-4 inline mr-1"}),"Empresa *"]}),(0,r.jsx)("input",{type:"text",value:c.companyName,onChange:e=>L("companyName",e.target.value),placeholder:"Acme Corp",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.companyName?"border-red-300":"border-gray-300"}`}),y.companyName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.companyName})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(E,{className:"w-4 h-4 inline mr-1"}),"Fecha Programada"]}),(0,r.jsx)("input",{type:"date",value:c.scheduledDate,onChange:e=>L("scheduledDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(T,{className:"w-4 h-4 inline mr-1"}),"Hora"]}),(0,r.jsx)("input",{type:"time",value:c.scheduledTime,onChange:e=>L("scheduledTime",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duraci\xf3n (min)"}),(0,r.jsxs)("select",{value:c.estimatedDuration,onChange:e=>L("estimatedDuration",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:15,children:"15 min"}),(0,r.jsx)("option",{value:30,children:"30 min"}),(0,r.jsx)("option",{value:45,children:"45 min"}),(0,r.jsx)("option",{value:60,children:"1 hora"}),(0,r.jsx)("option",{value:120,children:"2 horas"})]})]})]})]}),2===f&&h&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg border border-purple-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)(P,{className:"w-6 h-6 text-purple-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-purple-900",children:"Sugerencias de IA"}),(0,r.jsxs)("div",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full",children:[Math.round(100*h.successProbability),"% \xe9xito"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDCE7 Email Generado"}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg border text-sm",children:(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:h.emailTemplate})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDCDE Script de Llamada"}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg border text-sm",children:(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:h.callScript})})]})]}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg border",children:[(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Mejor momento"}),(0,r.jsxs)("div",{className:"font-medium",children:[h.bestDay," ",h.bestTime]})]}),(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg border",children:[(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Probabilidad"}),(0,r.jsxs)("div",{className:"font-medium text-green-600",children:[Math.round(100*h.successProbability),"%"]})]}),(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg border",children:[(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Comentario CRM"}),(0,r.jsx)("div",{className:"font-medium text-sm",children:h.comment})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje Personalizado (opcional)"}),(0,r.jsx)("textarea",{value:c.customMessage,onChange:e=>L("customMessage",e.target.value),placeholder:"Sobrescribe el mensaje generado por IA...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Si dejas esto vac\xedo, se usar\xe1 el contenido generado por IA"})]})]}),3===f&&(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:"Revisi\xf3n Final"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Informaci\xf3n de la Tarea"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Tipo:"})," ",c.type.replace("_"," ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Categor\xeda:"})," ",c.category.replace("_"," ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Prioridad:"})," ",c.priority]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Asunto:"})," ",c.subject]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Informaci\xf3n del Contacto"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Nombre:"})," ",c.contactName]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Email:"})," ",c.contactEmail]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Empresa:"})," ",c.companyName]})]})]})]}),(c.scheduledDate||c.scheduledTime)&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Programaci\xf3n"}),(0,r.jsxs)("div",{className:"text-sm",children:[c.scheduledDate&&(0,r.jsxs)("span",{children:["\uD83D\uDCC5 ",new Date(c.scheduledDate).toLocaleDateString()]}),c.scheduledTime&&(0,r.jsxs)("span",{className:"ml-4",children:["\uD83D\uDD50 ",c.scheduledTime]}),(0,r.jsxs)("span",{className:"ml-4",children:["⏱️ ",c.estimatedDuration," minutos"]})]})]})]})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[(0,r.jsx)("div",{className:"flex space-x-3",children:f>1&&(0,r.jsx)("button",{onClick:()=>S(f-1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Anterior"})}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),1===f&&(0,r.jsxs)("button",{onClick:I,disabled:u,className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[u?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,r.jsx)(m.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:u?"Generando...":"Generar con IA"})]}),2===f&&(0,r.jsx)("button",{onClick:()=>S(3),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Revisar"}),3===f&&(0,r.jsxs)("button",{onClick:O,disabled:b,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[b?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,r.jsx)(o,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:b?"Creando...":"Crear Tarea"})]})]})]})]})}):null}let M=(0,c.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),I=(0,c.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),O=(0,c.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function L({task:e,isOpen:s,onClose:a,onUpdate:l,onApprove:n,onReject:c,onSync:d}){var h;let[b,j]=(0,t.useState)(!1),[y,N]=(0,t.useState)({}),[f,P]=(0,t.useState)(""),[D,S]=(0,t.useState)(!1),[L,R]=(0,t.useState)(!1),[z,G]=(0,t.useState)("details");if(!s||!e)return null;let H=async()=>{R(!0);try{await l(e.id,y),j(!1)}catch(e){console.error("Error updating task:",error)}finally{R(!1)}},$=async()=>{R(!0);try{await n(e.id)}catch(e){console.error("Error approving task:",error)}finally{R(!1)}},_=async()=>{if(f.trim()){R(!0);try{await c(e.id,f),S(!1),P("")}catch(e){console.error("Error rejecting task:",error)}finally{R(!1)}}},U=async()=>{R(!0);try{await d(e.id)}catch(e){console.error("Error syncing task:",error)}finally{R(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg text-white",children:(e=>{switch(e){case"EMAIL":return(0,r.jsx)(v,{className:"w-4 h-4"});case"CALL":return(0,r.jsx)(w,{className:"w-4 h-4"});case"MEETING":return(0,r.jsx)(E,{className:"w-4 h-4"});default:return(0,r.jsx)(x,{className:"w-4 h-4"})}})(e.type)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:e.subject}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[(0,r.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${(e=>{switch(e){case i.e1.DRAFT:return"bg-gray-100 text-gray-800 border-gray-200";case i.e1.PENDING_APPROVAL:return"bg-yellow-100 text-yellow-800 border-yellow-200";case i.e1.APPROVED:return"bg-green-100 text-green-800 border-green-200";case i.e1.REJECTED:return"bg-red-100 text-red-800 border-red-200";case i.e1.SCHEDULED:return"bg-blue-100 text-blue-800 border-blue-200";case i.e1.COMPLETED:return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(e.status)}`,children:e.status.replace("_"," ")}),(0,r.jsx)("span",{className:`text-sm font-medium ${(e=>{switch(e){case i.W6.LOW:return"text-blue-600";case i.W6.MEDIUM:return"text-yellow-600";case i.W6.HIGH:return"text-orange-600";case i.W6.URGENT:return"text-red-600";case i.W6.CRITICAL:return"text-red-800";default:return"text-gray-600"}})(e.priority)}`,children:e.priority}),e.syncedToHubspot&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"✓ Sincronizado"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[!b&&(0,r.jsx)("button",{onClick:()=>j(!0),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(p,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:a,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(k,{className:"w-6 h-6"})})]})]}),(0,r.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,r.jsx)("button",{onClick:()=>G("details"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${"details"===z?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Detalles"}),(0,r.jsxs)("button",{onClick:()=>G("ai"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${"ai"===z?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,r.jsx)(m.A,{className:"w-4 h-4 inline mr-1"}),"IA & Contenido"]}),(0,r.jsxs)("button",{onClick:()=>G("timeline"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${"timeline"===z?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,r.jsx)(M,{className:"w-4 h-4 inline mr-1"}),"Timeline"]})]}),(0,r.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-300px)]",children:["details"===z&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaci\xf3n de la Tarea"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asunto"}),b?(0,r.jsx)("input",{type:"text",value:y.subject,onChange:e=>N({...y,subject:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,r.jsx)("p",{className:"text-gray-900",children:e.subject})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),b?(0,r.jsx)("textarea",{value:y.description,onChange:e=>N({...y,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,r.jsx)("p",{className:"text-gray-700",children:e.description||"Sin descripci\xf3n"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,r.jsx)("p",{className:"text-gray-900",children:e.type.replace("_"," ")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categor\xeda"}),(0,r.jsx)("p",{className:"text-gray-900",children:e.category.replace("_"," ")})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaci\xf3n del Contacto"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(C,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-gray-700",children:e.contactName})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(v,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-gray-700",children:e.contactEmail})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(A,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-gray-700",children:e.companyName})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Programaci\xf3n"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),b?(0,r.jsx)("input",{type:"date",value:y.scheduledDate,onChange:e=>N({...y,scheduledDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(E,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-gray-700",children:(h=e.scheduledDate)?new Date(h).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"No programada"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora"}),b?(0,r.jsx)("input",{type:"time",value:y.scheduledTime,onChange:e=>N({...y,scheduledTime:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(T,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-gray-700",children:e.scheduledTime||"No especificada"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duraci\xf3n"}),b?(0,r.jsxs)("select",{value:y.estimatedDuration,onChange:e=>N({...y,estimatedDuration:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:15,children:"15 min"}),(0,r.jsx)("option",{value:30,children:"30 min"}),(0,r.jsx)("option",{value:45,children:"45 min"}),(0,r.jsx)("option",{value:60,children:"1 hora"}),(0,r.jsx)("option",{value:120,children:"2 horas"})]}):(0,r.jsxs)("span",{className:"text-gray-700",children:[e.estimatedDuration," minutos"]})]})]})]}),e.successProbability&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Insights"}),(0,r.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-purple-900",children:"Probabilidad de \xc9xito"}),(0,r.jsxs)("span",{className:"text-lg font-bold text-purple-700",children:[Math.round(100*e.successProbability),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-purple-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-1000",style:{width:`${100*e.successProbability}%`}})}),e.bestContactDay&&e.bestContactTime&&(0,r.jsxs)("div",{className:"mt-3 text-sm text-purple-700",children:[(0,r.jsx)("strong",{children:"Mejor momento:"})," ",e.bestContactDay," a las ",e.bestContactTime]})]})]})]}),"ai"===z&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contenido Generado por IA"}),e.aiGeneratedEmail&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDCE7 Email"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:(0,r.jsx)("div",{className:"whitespace-pre-wrap text-sm",children:e.aiGeneratedEmail})})]}),e.aiGeneratedScript&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDCDE Script de Llamada"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:(0,r.jsx)("div",{className:"whitespace-pre-wrap text-sm",children:e.aiGeneratedScript})})]}),e.aiGeneratedComment&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDCAC Comentario CRM"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:(0,r.jsx)("div",{className:"text-sm",children:e.aiGeneratedComment})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Mensaje Personalizado"}),b?(0,r.jsx)("textarea",{value:y.customMessage,onChange:e=>N({...y,customMessage:e.target.value}),placeholder:"Mensaje personalizado que sobrescribe el contenido de IA...",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,r.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.customMessage?(0,r.jsx)("div",{className:"whitespace-pre-wrap text-sm",children:e.customMessage}):(0,r.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No hay mensaje personalizado"})})]})]}),"timeline"===z&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline de la Tarea"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-full",children:(0,r.jsx)(o,{className:"w-4 h-4 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"Tarea Creada"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleString("es-ES")})]})]}),e.updatedAt!==e.createdAt&&(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-yellow-100 rounded-full",children:(0,r.jsx)(p,{className:"w-4 h-4 text-yellow-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"\xdaltima Actualizaci\xf3n"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.updatedAt).toLocaleString("es-ES")})]})]}),e.approvedAt&&(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-full",children:(0,r.jsx)(u,{className:"w-4 h-4 text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"Tarea Aprobada"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.approvedAt).toLocaleString("es-ES")})]})]}),e.syncedAt&&(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-100 rounded-full",children:(0,r.jsx)(g,{className:"w-4 h-4 text-purple-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"Sincronizada con HubSpot"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.syncedAt).toLocaleString("es-ES")}),e.hubspotTaskId&&(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:["ID: ",e.hubspotTaskId]})]})]}),e.status===i.e1.REJECTED&&e.rejectedReason&&(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,r.jsx)(I,{className:"w-4 h-4 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"Tarea Rechazada"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.rejectedReason})]})]}),e.syncError&&(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,r.jsx)(O,{className:"w-4 h-4 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"Error de Sincronizaci\xf3n"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.syncError})]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex space-x-3",children:[e.status===i.e1.DRAFT&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:$,disabled:L,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[(0,r.jsx)(u,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Aprobar"})]}),(0,r.jsxs)("button",{onClick:()=>S(!0),disabled:L,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[(0,r.jsx)(I,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Rechazar"})]})]}),e.status===i.e1.APPROVED&&!e.syncedToHubspot&&(0,r.jsxs)("button",{onClick:U,disabled:L,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,r.jsx)(g,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Sincronizar"})]})]}),(0,r.jsx)("div",{className:"flex space-x-3",children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>j(!1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,r.jsxs)("button",{onClick:H,disabled:L,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[L&&(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,r.jsx)("span",{children:"Guardar"})]})]}):(0,r.jsx)("button",{onClick:a,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cerrar"})})]})]})}),D&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rechazar Tarea"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Por favor, proporciona una raz\xf3n para el rechazo:"}),(0,r.jsx)("textarea",{value:f,onChange:e=>P(e.target.value),placeholder:"Raz\xf3n del rechazo...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-4",children:[(0,r.jsx)("button",{onClick:()=>S(!1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,r.jsx)("button",{onClick:_,disabled:!f.trim()||L,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:"Rechazar"})]})]})})]})}let R=(0,c.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),z=(0,c.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function G({isOpen:e,onClose:s,selectedTasks:a,onOptimize:l,onGenerateContent:n}){let[c,o]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),[u,g]=(0,t.useState)("optimize"),[b,j]=(0,t.useState)(null),[y,N]=(0,t.useState)("email"),[f,A]=(0,t.useState)(null);if(!e)return null;let D=async()=>{if(0!==a.length){o(!0);try{let e=await l(a);p(e)}catch(e){console.error("Error optimizing tasks:",e)}finally{o(!1)}}},S=async(e,s)=>{o(!0);try{let a=await n(e,s);A(a)}catch(e){console.error("Error generating content:",e)}finally{o(!1)}},M=e=>e>=.8?"text-green-600":e>=.6?"text-yellow-600":e>=.4?"text-orange-600":"text-red-600";return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg text-white",children:(0,r.jsx)(m.A,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"AI Assistant"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[a.length," tarea",1!==a.length?"s":""," seleccionada",1!==a.length?"s":""]})]})]}),(0,r.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(k,{className:"w-6 h-6 text-gray-500"})})]}),(0,r.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,r.jsxs)("button",{onClick:()=>g("optimize"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${"optimize"===u?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,r.jsx)(R,{className:"w-4 h-4 inline mr-2"}),"Optimizar Tareas"]}),(0,r.jsxs)("button",{onClick:()=>g("generate"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${"generate"===u?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,r.jsx)(P,{className:"w-4 h-4 inline mr-2"}),"Generar Contenido"]}),(0,r.jsxs)("button",{onClick:()=>g("insights"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${"insights"===u?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,r.jsx)(d,{className:"w-4 h-4 inline mr-2"}),"Insights"]})]}),(0,r.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:["optimize"===u&&(0,r.jsx)("div",{className:"space-y-6",children:h?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg border border-green-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)(P,{className:"w-6 h-6 text-green-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-900",children:"Resultados de Optimizaci\xf3n"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(h.optimizations.reduce((e,s)=>e+s.optimizedScore,0)/h.optimizations.length*100),"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Probabilidad Promedio"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["+",Math.round(h.optimizations.reduce((e,s)=>e+(s.optimizedScore-s.originalScore),0)/h.optimizations.length*100),"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Mejora Promedio"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:h.optimizations.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Tareas Optimizadas"})]})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:h.optimizations.map((e,s)=>{let t=a.find(s=>s.id===e.taskId);return t?(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:t.subject}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[t.contactName," • ",t.companyName]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:`text-lg font-bold ${M(e.originalScore)}`,children:[Math.round(100*e.originalScore),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Original"})]}),(0,r.jsx)("div",{className:"text-gray-400",children:"→"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:`text-lg font-bold ${M(e.optimizedScore)}`,children:[Math.round(100*e.optimizedScore),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Optimizado"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Mejoras Sugeridas"}),(0,r.jsx)("ul",{className:"space-y-1",children:e.improvements.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm text-gray-600 flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"•"}),e]},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Contenido Optimizado"}),(0,r.jsxs)("div",{className:"space-y-2",children:[e.newContent.email&&(0,r.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Email"}),(0,r.jsxs)("div",{className:"text-sm",children:[e.newContent.email.substring(0,100),"..."]})]}),e.newContent.script&&(0,r.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Script"}),(0,r.jsxs)("div",{className:"text-sm",children:[e.newContent.script.substring(0,100),"..."]})]})]})]})]})]},e.taskId):null})})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(R,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Optimizar Tareas con IA"}),(0,r.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:"Nuestra IA analizar\xe1 tus tareas seleccionadas y sugerir\xe1 mejoras para aumentar la probabilidad de \xe9xito."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,r.jsx)(x,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),(0,r.jsx)("h4",{className:"font-medium text-purple-900",children:"Mensajes Optimizados"}),(0,r.jsx)("p",{className:"text-sm text-purple-700",children:"Mejora el contenido y el tono"})]}),(0,r.jsxs)("div",{className:"bg-pink-50 p-4 rounded-lg border border-pink-200",children:[(0,r.jsx)(T,{className:"w-6 h-6 text-pink-600 mx-auto mb-2"}),(0,r.jsx)("h4",{className:"font-medium text-pink-900",children:"Mejor Timing"}),(0,r.jsx)("p",{className:"text-sm text-pink-700",children:"Encuentra el momento ideal"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,r.jsx)(d,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),(0,r.jsx)("h4",{className:"font-medium text-blue-900",children:"Personalizaci\xf3n"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Adapta seg\xfan el perfil"})]})]}),(0,r.jsxs)("button",{onClick:D,disabled:c||0===a.length,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[c?(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,r.jsx)(z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:c?"Optimizando...":"Optimizar Tareas"})]})]})}),"generate"===u&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Generar Contenido para Tarea"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Tarea"}),(0,r.jsxs)("select",{value:b?.id||"",onChange:e=>j(a.find(s=>s.id===e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"Selecciona una tarea..."}),a.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.subject," - ",e.contactName]},e.id))]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Contenido"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,r.jsxs)("button",{onClick:()=>N("email"),className:`p-3 rounded-lg border-2 transition-all ${"email"===y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[(0,r.jsx)(v,{className:"w-5 h-5 mx-auto mb-1"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"Email"})]}),(0,r.jsxs)("button",{onClick:()=>N("script"),className:`p-3 rounded-lg border-2 transition-all ${"script"===y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[(0,r.jsx)(w,{className:"w-5 h-5 mx-auto mb-1"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"Script"})]}),(0,r.jsxs)("button",{onClick:()=>N("meeting"),className:`p-3 rounded-lg border-2 transition-all ${"meeting"===y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[(0,r.jsx)(E,{className:"w-5 h-5 mx-auto mb-1"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"Reuni\xf3n"})]})]})]}),(0,r.jsxs)("button",{onClick:()=>b&&S(b,y),disabled:!b||c,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,r.jsx)(P,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:c?"Generando...":"Generar Contenido"})]})]}),f&&(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Contenido Generado"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:(0,r.jsx)("div",{className:"whitespace-pre-wrap text-sm",children:f.content})}),f.tips&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Consejos de Optimizaci\xf3n"}),(0,r.jsx)("ul",{className:"space-y-1",children:f.tips.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm text-gray-600 flex items-start",children:[(0,r.jsx)("span",{className:"text-blue-500 mr-2",children:"\uD83D\uDCA1"}),e]},s))})]})]})]}),"insights"===u&&(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-6 rounded-lg border border-amber-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)(d,{className:"w-6 h-6 text-amber-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-amber-900",children:"Insights & Recomendaciones"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"An\xe1lisis de Rendimiento"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Tasa de \xc9xito Promedio"}),(0,r.jsxs)("span",{className:"font-medium text-green-600",children:[Math.round(a.reduce((e,s)=>e+(s.successProbability||0),0)/a.length*100),"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Mejor Tipo de Contacto"}),(0,r.jsx)("span",{className:"font-medium text-blue-600",children:a.filter(e=>e.type===i.wP.EMAIL).length>a.filter(e=>e.type===i.wP.CALL).length?"Email":"Llamada"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Prioridad Com\xfan"}),(0,r.jsx)("span",{className:"font-medium text-purple-600",children:a.filter(e=>"HIGH"===e.priority).length>a.length/2?"Alta":"Media"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Recomendaciones"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"p-3 bg-white rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsx)(T,{className:"w-4 h-4 text-blue-500"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Timing \xd3ptimo"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Martes y mi\xe9rcoles entre 10:00-11:00 AM muestran mejores resultados"})]}),(0,r.jsxs)("div",{className:"p-3 bg-white rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsx)(C,{className:"w-4 h-4 text-green-500"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Personalizaci\xf3n"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Mensajes personalizados aumentan 40% la tasa de respuesta"})]}),(0,r.jsxs)("div",{className:"p-3 bg-white rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsx)(x,{className:"w-4 h-4 text-purple-500"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Seguimiento"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Considera un seguimiento despu\xe9s de 3-5 d\xedas sin respuesta"})]})]})]})]})]})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Potenciado por IA • Probabilidad de \xe9xito mejorada"}),(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cerrar"})]})]})})}let H=()=>{let{tasks:e,loading:s,error:a,pagination:l,filters:i,selectedTasks:c,createTask:v,updateTask:w,deleteTask:E,setFilters:k,setPage:C,refreshTasks:A,selectTask:T,deselectTask:P,selectAllTasks:D,deselectAllTasks:M,approveTask:I,rejectTask:O,syncToHubSpot:R,bulkAction:z,generateAISuggestions:H}=n(),[$,_]=(0,t.useState)(!1),[U,F]=(0,t.useState)(!1),[q,W]=(0,t.useState)(!1),[V,J]=(0,t.useState)(null),[K,B]=(0,t.useState)(""),X={total:e.length,draft:e.filter(e=>"PENDING"===e.status).length,approved:e.filter(e=>"APPROVED"===e.status).length,completed:e.filter(e=>"COMPLETED"===e.status).length,synced:e.filter(e=>"COMPLETED"===e.status).length,aiGenerated:e.filter(e=>"AI_GENERATED"===e.type).length},Z=e=>{B(e),k({...i,searchTerm:e})},Q=e=>{switch(e){case"PENDING":default:return"text-gray-600 bg-gray-100";case"IN_PROGRESS":return"text-yellow-600 bg-yellow-100";case"APPROVED":return"text-green-600 bg-green-100";case"REJECTED":return"text-red-600 bg-red-100";case"COMPLETED":return"text-purple-600 bg-purple-100"}},Y=e=>{switch(e){case"LOW":return"text-blue-600";case"MEDIUM":return"text-yellow-600";case"HIGH":return"text-orange-600";case"URGENT":return"text-red-600";default:return"text-gray-600"}},ee=e=>{switch(e){case"MANUAL":default:return(0,r.jsx)(d,{className:"w-4 h-4"});case"AUTOMATED":return(0,r.jsx)(o,{className:"w-4 h-4"});case"TEMPLATE":return(0,r.jsx)(x,{className:"w-4 h-4"});case"AI_GENERATED":return(0,r.jsx)(m.A,{className:"w-4 h-4"})}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Task Management"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona y valida tareas antes de sincronizar con HubSpot"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("button",{onClick:()=>W(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all",children:[(0,r.jsx)(m.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"AI Assistant"})]}),(0,r.jsxs)("button",{onClick:()=>_(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(h,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Nueva Tarea"})]})]})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-6",children:[(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Total"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:X.total})]}),(0,r.jsx)(d,{className:"w-8 h-8 text-blue-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Borradores"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:X.draft})]}),(0,r.jsx)(p,{className:"w-8 h-8 text-gray-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Aprobadas"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:X.approved})]}),(0,r.jsx)(u,{className:"w-8 h-8 text-green-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Completadas"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:X.completed})]}),(0,r.jsx)(u,{className:"w-8 h-8 text-purple-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Sincronizadas"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:X.synced})]}),(0,r.jsx)(g,{className:"w-8 h-8 text-blue-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"AI Generated"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:X.aiGenerated})]}),(0,r.jsx)(m.A,{className:"w-8 h-8 text-purple-500"})]})})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,r.jsx)("div",{className:"flex-1 max-w-lg",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(b,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar tareas...",value:K,onChange:e=>Z(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("button",{onClick:()=>F(!U),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,r.jsx)(j,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Filtros"})]}),(0,r.jsxs)("button",{onClick:A,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,r.jsx)(y.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Actualizar"})]})]})]}),c.length>0&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm text-blue-700",children:[c.length," tareas seleccionadas"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>z("approve"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Aprobar"}),(0,r.jsx)("button",{onClick:()=>z("sync"),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Sincronizar"}),(0,r.jsx)("button",{onClick:()=>z("delete"),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Eliminar"})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)("input",{type:"checkbox",checked:c.length===e.length&&e.length>0,onChange:e=>e.target.checked?D():M(),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarea"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prioridad"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Programada"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AI Score"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,r.jsx)("span",{children:"Cargando tareas..."})]})})}):0===e.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,r.jsx)(d,{className:"w-12 h-12 text-gray-300"}),(0,r.jsx)("span",{children:"No hay tareas creadas a\xfan"}),(0,r.jsx)("button",{onClick:()=>_(!0),className:"text-blue-600 hover:text-blue-800",children:"Crear primera tarea"})]})})}):e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("input",{type:"checkbox",checked:c.includes(e.id),onChange:s=>s.target.checked?T(e.id):P(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"text-gray-400",children:ee(e.type)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.subject}),e.description&&(0,r.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description})]})]})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.contactName}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.contactEmail}),e.companyName&&(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.companyName})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.type.replace("_"," ")})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:`text-sm font-medium ${Y(e.priority)}`,children:e.priority})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Q(e.status)}`,children:e.status.replace("_"," ")})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.scheduledDate&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:new Date(e.scheduledDate).toLocaleDateString()}),e.scheduledTime&&(0,r.jsx)("div",{className:"text-xs",children:e.scheduledTime})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full",style:{width:"50%"}})}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"50%"})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>J(e),className:"text-blue-600 hover:text-blue-900",children:(0,r.jsx)(N,{className:"w-4 h-4"})}),"PENDING"===e.status&&(0,r.jsx)("button",{onClick:()=>I(e.id),className:"text-green-600 hover:text-green-900",children:(0,r.jsx)(u,{className:"w-4 h-4"})}),"APPROVED"===e.status&&(0,r.jsx)("button",{onClick:()=>R(e.id),className:"text-blue-600 hover:text-blue-900",children:(0,r.jsx)(g,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>E(e.id),className:"text-red-600 hover:text-red-900",children:(0,r.jsx)(f,{className:"w-4 h-4"})})]})})]},e.id))})]})}),l.pages>1&&(0,r.jsx)("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Mostrando ",(l.currentPage-1)*20+1," a"," ",Math.min(20*l.currentPage,l.total)," de ",l.total," tareas"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>C(l.currentPage-1),disabled:1===l.currentPage,className:"px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50",children:"Anterior"}),(0,r.jsx)("button",{onClick:()=>C(l.currentPage+1),disabled:!l.hasMore,className:"px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50",children:"Siguiente"})]})]})})]})]}),V&&(0,r.jsx)(L,{task:V,isOpen:!!V,onClose:()=>J(null),onUpdate:async(e,s)=>{await w(e,s)},onApprove:I,onReject:O,onSync:R}),(0,r.jsx)(S,{isOpen:$,onClose:()=>_(!1),onCreate:v,onGenerateAI:H}),(0,r.jsx)(G,{isOpen:q,onClose:()=>W(!1),selectedTasks:e.filter(e=>c.includes(e.id)),onOptimize:async e=>({optimizations:e.map(e=>({taskId:e.id,originalScore:e.successProbability||.5,optimizedScore:Math.min(1,(e.successProbability||.5)+.2),improvements:["Personalizar saludo con informaci\xf3n de la empresa","Agregar call-to-action espec\xedfico","Optimizar hora de env\xedo basado en zona horaria"],newContent:{email:"Email optimizado con mejor personalizaci\xf3n...",script:"Script mejorado con t\xe9cnicas de persuasi\xf3n..."}})),suggestions:["Considera enviar emails los martes por la ma\xf1ana","Personaliza m\xe1s el mensaje usando datos de la empresa"],insights:["Tasa de respuesta promedio: 15%","Mejor d\xeda para contactar: Martes"]}),onGenerateContent:async(e,s)=>({content:({email:`Estimado/a ${e.contactName},

Espero que se encuentre bien. He estado revisando la informaci\xf3n de ${e.companyName} y me parece que podr\xedamos ayudarles a mejorar sus resultados.

\xbfTendr\xeda disponibilidad para una breve llamada de 15 minutos la pr\xf3xima semana?

Saludos cordiales,
[Tu nombre]`,script:`1. Saludo personalizado: "Hola ${e.contactName}, habla [tu nombre]"
2. Prop\xf3sito: "Te contacto porque vi que ${e.companyName} podr\xeda beneficiarse de..."
3. Pregunta abierta: "\xbfC\xf3mo est\xe1n manejando actualmente...?"
4. Propuesta de valor: "En casos similares hemos logrado..."
5. Pr\xf3ximo paso: "\xbfCu\xe1ndo podr\xedas dedicar 15 minutos para explorar esto?"`,meeting:`Reuni\xf3n con ${e.contactName} - ${e.companyName}

Objetivos:
- Entender sus necesidades actuales
- Presentar nuestra soluci\xf3n
- Definir pr\xf3ximos pasos

Agenda:
1. Presentaciones (5 min)
2. Situaci\xf3n actual (10 min)
3. Nuestra propuesta (15 min)
4. Q&A (10 min)
5. Pr\xf3ximos pasos (5 min)`})[s]||"Contenido generado...",tips:["Personaliza el mensaje con datos espec\xedficos de la empresa","Mant\xe9n un tono profesional pero amigable","Incluye un call-to-action claro"]})})]})}},88989:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/lucasmailland/Desktop/Prospecter-Fichap/frontend/src/app/tasks/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/lucasmailland/Desktop/Prospecter-Fichap/frontend/src/app/tasks/page.tsx","default")},93989:(e,s,a)=>{Promise.resolve().then(a.bind(a,88989))},99381:(e,s,a)=>{"use strict";a.d(s,{Ix:()=>i,W6:()=>c,XN:()=>r,e1:()=>l,gG:()=>t,wP:()=>n});var r=function(e){return e.NEW="NEW",e.ENRICHED="ENRICHED",e.VALIDATED="VALIDATED",e.PRIORITIZED="PRIORITIZED",e.CONTACTED="CONTACTED",e.CONVERTED="CONVERTED",e.LOST="LOST",e}({}),t=function(e){return e.ADMIN="ADMIN",e.MANAGER="MANAGER",e.USER="USER",e.VIEWER="VIEWER",e}({}),l=function(e){return e.PENDING="PENDING",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.APPROVED="APPROVED",e.REJECTED="REJECTED",e}({}),i=function(e){return e.PROSPECTING="PROSPECTING",e.EMAIL="EMAIL",e.CALL="CALL",e.MEETING="MEETING",e.FOLLOW_UP="FOLLOW_UP",e.RESEARCH="RESEARCH",e.PROPOSAL="PROPOSAL",e.NEGOTIATION="NEGOTIATION",e.CLOSING="CLOSING",e.CUSTOM="CUSTOM",e}({}),n=function(e){return e.MANUAL="MANUAL",e.AUTOMATED="AUTOMATED",e.TEMPLATE="TEMPLATE",e.AI_GENERATED="AI_GENERATED",e.EMAIL="EMAIL",e.CALL="CALL",e.MEETING="MEETING",e.LINKEDIN_MESSAGE="LINKEDIN_MESSAGE",e.WHATSAPP="WHATSAPP",e.PROPOSAL="PROPOSAL",e.DEMO="DEMO",e.FOLLOW_UP="FOLLOW_UP",e.REMINDER="REMINDER",e.NOTE="NOTE",e.RESEARCH="RESEARCH",e}({}),c=function(e){return e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.URGENT="URGENT",e.CRITICAL="CRITICAL",e}({})}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[447,264,566],()=>a(67558));module.exports=r})();